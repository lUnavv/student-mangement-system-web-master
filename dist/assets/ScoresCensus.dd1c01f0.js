import{g as O}from"./student.7481401c.js";import{g as z}from"./teacher.aa7b0f15.js";import{i as I}from"./echarts.8a0fd1b0.js";import{J as x,f as N,i as b,o as c,c as _,L as $,M as H,e as i,Q as f,R as l,ag as n,a as g,X as u,V as M,a6 as F,F as D}from"./@vue.6f39e54a.js";import{g as T}from"./census.d84c15f2.js";import{_ as U}from"./index.9ba80206.js";import"./request.f1f11a88.js";import"./axios.754b77ca.js";import"./form-data.2b153385.js";import"./tslib.60310f1a.js";import"./zrender.c47eb1ee.js";import"./vue-router.f9fbd5dd.js";import"./nprogress.dd199a36.js";import"./dayjs.ca59b222.js";import"./pinia.ca2353a2.js";import"./pinia-plugin-persistedstate.0afbc90b.js";import"./element-plus.1daafd39.js";import"./lodash-es.a286bec7.js";import"./@vueuse.017cd7ad.js";import"./@element-plus.32f59e87.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.43a1fe53.js";const j=["id"],J=x({__name:"ScoreCensusPie",props:{legendData:{type:Array,default:[]},seriesData:{type:Array,default:[]},className:{type:String,default:"chart"},config:{type:Object,default:()=>{}},id:{type:String,default:"chart"},width:{type:String,default:"200px"},height:{type:String,default:"200px"}},setup(r){const a=r,d={title:{text:"\u73ED\u7EA7\u79D1\u76EE\u6210\u7EE9\u5206\u6790\u997C\u72B6\u56FE",subtext:"0~59:\u4E0D\u53CA\u683C\uFF1B60~69:\u8F83\u5DEE\uFF1B70~79:\u4E00\u822C\uFF1B80~89:\u826F\uFF1B90\u4EE5\u4E0A\uFF1A\u4F18",x:"center"},grid:{top:10,left:"2%",right:"2%",bottom:"2%",containLabel:!0},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:a.legendData},series:[{name:"\u6570\u91CF",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:a.seriesData}],toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}}};let p;const o=()=>{let s=I(document.getElementById(a.id));return s.setOption(d,!0),s};return N(()=>a.seriesData,s=>{d.series[0].data=s,o()}),b(()=>{p=o(),window.addEventListener("resize",function(){p&&p.resize()})}),(s,h)=>(c(),_("div",{id:r.id,class:$(r.className),style:H({height:r.height,width:r.width})},null,14,j))}}),P={class:"card-header"},Q={class:"card-search"},R=x({__name:"ScoresCensus",setup(r){const a=i(),d=i([]);async function p(){try{const{data:e}=await O();e.status===200&&(d.value=e.result)}catch(e){console.log(e)}}const o=i(),s=i([]);async function h(){try{const{data:e}=await z();e.status===200&&(s.value=e.result)}catch(e){console.log(e)}}const A=i(["\u4F18","\u826F","\u4E00\u822C","\u8F83\u5DEE","\u4E0D\u53CA\u683C"]),E=i([]),B=async()=>{const{data:e}=await T(o.value,a.value);e.status===200&&(E.value=e.result,console.log(`data.result is: ${e.result}`))},v=async()=>{a.value!==null&&a.value!==""&&o.value!==null&&o.value!==""&&await B()};return b(()=>{h(),p()}),(e,m)=>{const S=n("Histogram"),V=n("el-icon"),y=n("el-option"),C=n("el-select"),w=n("el-col"),L=n("el-row"),k=n("el-card");return c(),f(k,{class:"box-card"},{header:l(()=>[g("div",P,[g("h3",null,[u(V,{style:{"margin-right":"10px"}},{default:l(()=>[u(S)]),_:1}),M("\u73ED\u7EA7\u79D1\u76EE\u6210\u7EE9\u7EDF\u8BA1 ")]),g("div",Q,[u(L,{gutter:8},{default:l(()=>[u(w,{span:12},{default:l(()=>[u(C,{modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=t=>a.value=t),placeholder:"\u8BF7\u9009\u62E9\u73ED\u7EA7",style:{width:"100%"},onChange:v},{default:l(()=>[(c(!0),_(D,null,F(d.value,t=>(c(),f(y,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(w,{span:12},{default:l(()=>[u(C,{modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=t=>o.value=t),placeholder:"\u8BF7\u9009\u62E9\u79D1\u76EE",style:{width:"100%"},onChange:v},{default:l(()=>[(c(!0),_(D,null,F(s.value,t=>(c(),f(y,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])])]),default:l(()=>[u(J,{seriesData:E.value,legendData:A.value,height:"400px",width:"100%",id:"pie"},null,8,["seriesData","legendData"])]),_:1})}}});const ye=U(R,[["__scopeId","data-v-3de5da1e"]]);export{ye as default};
